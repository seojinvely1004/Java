<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
<!-- member테이블 조회(select)시 resultType필수-->
<select id="memberlist" resultType="memberdto">
select * from member
</select>

<select id = "membercount" resultType="int">
select count(*) from member
</select>

<select id="onemember" resultType="memberdto" parameterType="String">
select * from member where id=#{a}<!-- a변수에 String넘어온다 -->
</select>

<!-- 페이징/2개의값을 미리 배열로 처리해서 가져올 것임  -->
<select id="paginglist" resultType="memberdto" parameterType="int[]">
select * from member order by indate desc limit 
<foreach collection="array" item="num" separator=","> <!-- 반복대상 collection으로(list,array가능) /separator:,로구분하겠다/그것을 num이라고하겠다--> 
#{num}
</foreach>
</select>

<insert id="insertmember" parameterType="memberdto"><!-- dto객체에 해당되는 변수값 그대로 values-->
insert into member values(#{id}, #{pw}, #{name}, #{phone}, #{email}, #{address}, now())
</insert>

<update id="updatemember" parameterType="memberdto">
update member set name =#{name}, email=#{email}, phone=#{phone} where id=#{id}
</update>

<delete id="deletemember" parameterType="String"><!-- memberdto가 파라미터타입일 땐(수정할값여러개) 똑같이줘야햐하지만 파라미터타입을 String으로주면(id하나만있음됨) 아무서나 써줘도 된다. -->
delete member where id=#{id}
</delete>

<!-- map 사용해보기 session.selectList("searchmember", map)-->
<select id="searchmember" resultType="memberdto" parameterType="HashMap">
select * from member where ${colname} like #{colvalue}
</select>

</mapper>